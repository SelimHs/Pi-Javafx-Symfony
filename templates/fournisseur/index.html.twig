{% extends 'baseBack.html.twig' %}

{% block title %}Fournisseurs{% endblock %}

{% block body %}
<div class="app-main__outer">
  <div class="app-main__inner">
    <div class="app-page-title">
      <div class="page-title-wrapper">
        <div class="page-title-heading">
          <div class="page-title-icon">
            <i class="pe-7s-id icon-gradient bg-happy-itmeo"></i>
          </div>
          <div>
            Gestion des Fournisseurs
            <div class="page-title-subheading">Liste des fournisseurs enregistrés avec leurs détails.</div>
          </div>
        </div>
        <div class="page-title-actions">
          <a href="{{ path('fournisseur_export_pdf') }}" target="_blank" class="btn btn-danger mb-3">
            <i class="fas fa-file-pdf"></i> Exporter PDF
          </a>
          
        </div>
      </div>
    </div>

    <div class="row">
      {% for fournisseur in fournisseurs %}
        <div class="col-md-6 col-xl-4">
          <div class="card mb-4 shadow-sm">
            <div class="position-relative text-center p-3">
              <img 
                src="{{ asset('uploads/images/' ~ (fournisseur.imagePath ?: 'placeholder.jpg')) }}" 
                alt="{{ fournisseur.nomFournisseur }}" 
                class="img-fluid rounded-circle" 
                style="width: 100px; height: 100px; object-fit: cover;">
              <h5 class="mt-3 text-uppercase">{{ fournisseur.nomFournisseur }}</h5>
              <p class="text-muted small">{{ fournisseur.description|default('Aucune description') }}</p>
            </div>
            <div class="card-body">
              <p class="mb-2">
                <i class="fas fa-tag text-primary"></i> <strong>Type:</strong> {{ fournisseur.type }}
              </p>
              <p class="mb-2">
                <i class="fas fa-phone text-success"></i> <strong>Téléphone:</strong> {{ fournisseur.telephone }}
              </p>
              <p class="mb-2">
                <i class="fas fa-id-badge text-info"></i> <strong>ID:</strong> {{ fournisseur.idFournisseur }}
              </p>
              <div class="d-flex justify-content-between">
                <a href="{{ path('app_fournisseur_show', {'idFournisseur': fournisseur.idFournisseur}) }}" class="btn btn-outline-primary btn-sm">
                  <i class="fas fa-eye"></i> Voir
                </a>
                <a href="{{ path('app_fournisseur_edit', {'idFournisseur': fournisseur.idFournisseur}) }}" class="btn btn-outline-warning btn-sm">
                  <i class="fas fa-edit"></i> Modifier
                </a>
              </div>
            </div>
          </div>
        </div>
      {% else %}
        <div class="col-12">
          <div class="alert alert-info text-center">
            Aucun fournisseur trouvé.
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}
