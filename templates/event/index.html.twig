{% extends 'base.html.twig' %}

{% block title %}Events{% endblock %}

{% block body %}
<div class="page-heading header-text">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <span class="breadcrumb"><a href="#">Accueil</a> / Évènements</span>
        <h3>Évènements</h3>
      </div>
    </div>
  </div>
</div>

<div class="section properties">
  <div class="container">
  
    {# Bouton Send Message #}
    <div class="row mb-4">
      <div class="col-lg-12 text-center">
        <a href="#contact-form" class="main-button custom-message-btn">
          <i></i> Créer évènement
        </a>
      </div>
    </div>
    

    <div class="row properties-box">
      {% for event in events %}
        <div class="col-lg-4 col-md-6 align-self-center mb-30 properties-items">
          <div class="item">
            <a href="{{ path('app_event_show', {'idEvent': event.idEvent}) }}">
              <img src="{{ asset('uploads/images/' ~ event.image) }}" alt="">
            </a>
            <span class="category">{{ event.nomEspace }}</span>
            <h6>{{ event.prix }} Dt</h6>
            <h4>
              <a href="{{ path('app_event_show', {'idEvent': event.idEvent}) }}">
                {{ event.nomEvent }}
              </a>
            </h4>
            <ul>
              <li>Details: <span>{{ event.details|length > 40 ? event.details[:40] ~ '...' : event.details }}</span></li>
              <li>Date: <span>{{ event.date }}</span></li>
              <li>Visitors: <span>{{ event.nbrVisiteurs }}</span></li>
            </ul>
            <div class="main-button">
              <a href="{{ path('app_event_show', {'idEvent': event.idEvent}) }}">Détails</a>
            </div>
          </div>
        </div>
      {% else %}
        <p>No events found.</p>
      {% endfor %}
    </div>
  </div>
</div>
{% endblock %}
