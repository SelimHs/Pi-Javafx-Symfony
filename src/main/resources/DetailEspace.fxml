<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.web.WebView?>

<?import javafx.scene.image.Image?>
<AnchorPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="tn.esprit.controllers.DetailEspace"
            prefHeight="900.0" prefWidth="1400.0"
            style="-fx-background-color: linear-gradient(to bottom, #030307, #131022);">

    <children>
        <!-- ðŸŒŸ Barre latÃ©rale modernisÃ©e -->
        <VBox layoutX="0.0" layoutY="0.0" prefHeight="900.0" prefWidth="220.0"
              style="-fx-background-color: linear-gradient(to bottom, #131022, #1A172A);
                     -fx-padding: 15px;
                     -fx-border-radius: 15 0 0 15;
                     -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.4), 15, 0, 3, 3);">
            <children>
                <ImageView fitHeight="80.0" fitWidth="80.0" pickOnBounds="true" preserveRatio="true">
                    <image>
                        <Image url="@logo.png"/>
                    </image>
                </ImageView>

                <Label text="DÃ©tails de l'Espace"
                       style="-fx-font-size: 20px; -fx-text-fill: white; -fx-font-weight: bold; -fx-padding: 10px;"/>

                <Button text="ðŸ  Accueil" onAction="#retourAfficherEspaces"
                        style="-fx-background-color: transparent; -fx-text-fill: #a868a0; -fx-font-size: 16px;"
                        onMouseEntered="#buttonHoverEffect" onMouseExited="#buttonExitEffect"/>

                <Button text="âž• Ajouter Organisateur" onAction="#ajouterOrganisateur"
                        style="-fx-background-color: transparent; -fx-text-fill: #a868a0; -fx-font-size: 16px;"
                        onMouseEntered="#buttonHoverEffect" onMouseExited="#buttonExitEffect"/>
            </children>
        </VBox>

        <!-- ðŸŒŸ Titre -->
        <Label fx:id="titleLabel" text="DÃ©tails de l'Espace"
               layoutX="250.0" layoutY="20.0"
               style="-fx-font-size: 30px; -fx-text-fill: white; -fx-font-weight: bold;">
            <effect>
                <DropShadow color="rgba(0,0,0,0.4)" radius="5" offsetX="3" offsetY="3"/>
            </effect>
        </Label>

        <!-- ðŸŒŸ Conteneur principal -->
        <HBox layoutX="250.0" layoutY="70.0" spacing="30.0">

            <!-- ðŸ“Œ Section gauche (Image et DÃ©tails) -->
            <VBox spacing="15" prefWidth="500.0">
                <!-- ðŸ–¼ Image Espace -->
                <VBox style="-fx-background-color: rgba(255,255,255,0.15);
                             -fx-padding: 15px; -fx-border-radius: 12px; -fx-border-color: white;
                             -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0, 2, 2);">
                    <ImageView fx:id="espaceImageView" fitHeight="220.0" fitWidth="500.0" preserveRatio="true">
                        <effect>
                            <DropShadow color="rgba(0,0,0,0.4)" radius="8" offsetX="3" offsetY="3"/>
                        </effect>
                    </ImageView>

                    <Label fx:id="espaceDetailsLabel" text="Chargement..."
                           style="-fx-font-size: 16px; -fx-text-fill: white; -fx-padding: 10px;"/>
                </VBox>

                <!-- ðŸ‘¥ Organisateurs -->
                <VBox prefHeight="350" spacing="10"
                      style="-fx-background-color: rgba(255,255,255,0.1);
                             -fx-padding: 10px; -fx-border-radius: 12px; -fx-border-color: white;
                             -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 10, 0, 2, 2);">
                    <Label text="ðŸ‘¥ Organisateurs"
                           style="-fx-font-size: 20px; -fx-text-fill: white; -fx-font-weight: bold;"/>
                    <ScrollPane fitToWidth="true" fitToHeight="true" style="-fx-background-color: transparent;">
                        <content>
                            <VBox fx:id="organisateurContainer" spacing="10.0"/>
                        </content>
                    </ScrollPane>
                </VBox>
            </VBox>

            <!-- ðŸ“ Section droite (Carte Google Maps) -->
            <VBox prefWidth="650.0" spacing="10"
                  style="-fx-background-color: rgba(255,255,255,0.1);
                         -fx-padding: 10px; -fx-border-radius: 12px; -fx-border-color: white;
                         -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 10, 0, 2, 2);">
                <Label text="ðŸ“ Localisation"
                       style="-fx-font-size: 20px; -fx-text-fill: white; -fx-font-weight: bold;"/>
                <WebView fx:id="mapView" prefWidth="630.0" prefHeight="700.0"/>
            </VBox>
        </HBox>

        <!-- ðŸŒŸ Boutons du bas -->
        <HBox spacing="15" layoutX="250.0" layoutY="800.0">
            <Button fx:id="retourButton" text="â¬… Retour" onAction="#retourAfficherEspaces"
                    style="-fx-background-color: #9b59b6; -fx-text-fill: white; -fx-padding: 12px;"/>
            <Button fx:id="ajouterOrganisateurButton" text="âž• Ajouter Organisateur" onAction="#ajouterOrganisateur"
                    style="-fx-background-color: #27ae60; -fx-text-fill: white; -fx-padding: 12px;"/>
        </HBox>

    </children>
</AnchorPane>
