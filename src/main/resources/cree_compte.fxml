<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>
<?import javafx.scene.effect.DropShadow?>

<AnchorPane xmlns="http://javafx.com/javafx/8" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="tn.esprit.controllers.CreeCompte"
            style="-fx-background-color: linear-gradient(to bottom, #a868a0, #34495e);">

    <children>
        <!-- 🟣 Conteneur Principal -->
        <VBox layoutX="50" layoutY="50" spacing="20" alignment="CENTER"
              style="-fx-padding: 30px; -fx-background-radius: 15px;">

            <!-- 🏷️ Titre -->
            <Label text="Créer un Compte"
                   style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: white;
                          -fx-effect: dropshadow(gaussian, rgba(255, 255, 255, 0.3), 10, 0, 2, 2);"/>

            <!-- 📋 Formulaire -->
            <GridPane hgap="12" vgap="15"
                      style="-fx-background-color: rgba(255, 255, 255, 0.15);
                             -fx-padding: 20px; -fx-border-radius: 12px;
                             -fx-border-color: white; -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.2), 10, 0, 2, 2);">

                <!-- Nom et Prénom -->
                <Label text="Nom" textFill="white" GridPane.rowIndex="0" GridPane.columnIndex="0" />
                <TextField fx:id="nomField" promptText="Entrez votre nom"
                           style="-fx-background-color: rgba(255, 255, 255, 0.3);
                                  -fx-border-radius: 10px; -fx-padding: 10px;
                                  -fx-border-color: white; -fx-text-fill: white;"
                           GridPane.rowIndex="0" GridPane.columnIndex="1"/>

                <Label text="Prénom" textFill="white" GridPane.rowIndex="1" GridPane.columnIndex="0" />
                <TextField fx:id="prenomField" promptText="Entrez votre prénom"
                           style="-fx-background-color: rgba(255, 255, 255, 0.3);
                                  -fx-border-radius: 10px; -fx-padding: 10px;
                                  -fx-border-color: white; -fx-text-fill: white;"
                           GridPane.rowIndex="1" GridPane.columnIndex="1"/>

                <!-- Email -->
                <Label text="Email" textFill="white" GridPane.rowIndex="2" GridPane.columnIndex="0" />
                <TextField fx:id="emailField" promptText="Entrez votre email"
                           style="-fx-background-color: rgba(255, 255, 255, 0.3);
                                  -fx-border-radius: 10px; -fx-padding: 10px;
                                  -fx-border-color: white; -fx-text-fill: white;"
                           GridPane.rowIndex="2" GridPane.columnIndex="1"/>

                <!-- Mot de passe -->
                <Label text="Mot de Passe" textFill="white" GridPane.rowIndex="3" GridPane.columnIndex="0" />
                <PasswordField fx:id="passwordField" promptText="Entrez votre mot de passe"
                               style="-fx-background-color: rgba(255, 255, 255, 0.3);
                                      -fx-border-radius: 10px; -fx-padding: 10px;
                                      -fx-border-color: white; -fx-text-fill: white;"
                               GridPane.rowIndex="3" GridPane.columnIndex="1"/>

                <!-- Numéro de téléphone -->
                <Label text="Numéro de Téléphone" textFill="white" GridPane.rowIndex="4" GridPane.columnIndex="0" />
                <TextField fx:id="numeroField" promptText="Entrez votre numéro"
                           style="-fx-background-color: rgba(255, 255, 255, 0.3);
                                  -fx-border-radius: 10px; -fx-padding: 10px;
                                  -fx-border-color: white; -fx-text-fill: white;"
                           GridPane.rowIndex="4" GridPane.columnIndex="1"/>

                <!-- Adresse -->
                <Label text="Adresse" textFill="white" GridPane.rowIndex="5" GridPane.columnIndex="0" />
                <TextArea fx:id="adresseField" promptText="Entrez votre adresse" prefRowCount="3"
                          style="-fx-background-color: rgba(255, 255, 255, 0.3);
                                  -fx-border-radius: 10px; -fx-padding: 10px;
                                  -fx-border-color: white; -fx-text-fill: white;"
                          GridPane.rowIndex="5" GridPane.columnIndex="1"/>

                <!-- Type d'utilisateur -->
                <Label text="Type d'utilisateur" textFill="white" GridPane.rowIndex="6" GridPane.columnIndex="0" />
                <HBox spacing="10" GridPane.rowIndex="6" GridPane.columnIndex="1">
                    <CheckBox fx:id="typeAdmin" text="Administrateur" style="-fx-text-fill: white;" />
                    <CheckBox fx:id="typeUser" text="Utilisateur" style="-fx-text-fill: white;" />
                </HBox>

                <!-- Genre -->
                <Label text="Genre" textFill="white" GridPane.rowIndex="7" GridPane.columnIndex="0" />
                <HBox spacing="10" GridPane.rowIndex="7" GridPane.columnIndex="1">
                    <CheckBox fx:id="genreMasculin" text="Masculin" style="-fx-text-fill: white;" />
                    <CheckBox fx:id="genreFeminin" text="Féminin" style="-fx-text-fill: white;" />
                </HBox>
            </GridPane>

            <!-- 🟢🔴 Boutons d'action -->
            <HBox spacing="15">
                <Button fx:id="createButton" text="Créer un compte" onAction="#handleCreateAccount"
                        style="-fx-background-color: #f39c12; -fx-text-fill: white;
                               -fx-font-size: 16px; -fx-border-radius: 12px; -fx-padding: 12px 20px;
                               -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.4), 12, 0, 2, 2);"/>

                <Button fx:id="backButton" text="❌ Annuler" onAction="#goToLoginPage"
                        style="-fx-background-color: #e74c3c; -fx-text-fill: white;
                               -fx-font-size: 16px; -fx-border-radius: 12px; -fx-padding: 12px 20px;
                               -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.4), 12, 0, 2, 2);"/>
            </HBox>

            <!-- Message d'erreur -->
            <Label fx:id="messageLabel" text="" style="-fx-font-size: 14px; -fx-text-fill: red;"/>
        </VBox>
    </children>
</AnchorPane>